{"version":3,"file":"index.js","sources":["../../src/triggers/idle.js","../../src/triggers/scroll.js","../../src/triggers/windowFocus.js","../../src/triggers/windowOut.js","../../src/triggers/target.js","../../src/schema.js","../../src/utils/eventsListenersCleanup.js","../../src/utils/eventsListenersAttach.js","../../src/index.js"],"sourcesContent":["/**\n * @param {MouseEvent|KeyEvent|TouchEvent} event\n * @returns {void}\n */\nfunction handleIdleness() {\n    if (this.invoked) return;\n    clearTimeout(this.timer);\n    this.timer = setTimeout(() => {\n        this.fire();\n    }, this._opts.delay);\n}\n\n/**\n * @returns {void}\n */\nfunction registerIdlenessHandler() {\n    const eventsTypes = this._opts.events;\n    const eventsTypesLen = eventsTypes.length;\n    for (let i = 0; i < eventsTypesLen; i += 1) {\n        const eventType = eventsTypes[i];\n        const boundListener = handleIdleness.bind(this);\n        this.attachEvents([{ el: document, type: eventType, listener: boundListener }]);\n    }\n}\n\n/**\n * @returns {void}\n */\nexport default function idle() {\n    const boundListener = handleIdleness.bind(this);\n    this.attachEvents([{ el: window, type: 'load', listener: boundListener }]);\n    registerIdlenessHandler.call(this);\n}\n","let lastScrollTop = 0; // To detect scroll direction\nlet lastScrollTopBeforeUp = 0;\n\n/**\n * @param {Number} docHeight\n * @returns {void}\n */\nfunction handleScroll(docHeight, percentUp) {\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const downScroll = scrollTop > lastScrollTop;\n    const downScrollPercent = docHeight * (parseFloat(this._opts.percentDown) / 100);\n    const upScrollPercent = percentUp\n        ? lastScrollTopBeforeUp - Math.round((lastScrollTopBeforeUp / 100) * percentUp)\n        : 0;\n\n    if (downScroll && !percentUp && scrollTop >= downScrollPercent) {\n        this.fire();\n    }\n\n    if (!downScroll && upScrollPercent && scrollTop <= upScrollPercent && lastScrollTopBeforeUp >= downScrollPercent) {\n        this.fire();\n    }\n\n    if (downScroll && percentUp) {\n        lastScrollTopBeforeUp = scrollTop;\n    }\n\n    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // For Mobile or negative scrolling\n}\n\n/**\n * @returns {void}\n */\nexport default function scroll() {\n    const { body } = document;\n    const html = document.documentElement;\n    let docHeight = Math.max(\n        body.scrollHeight,\n        body.offsetHeight,\n        html.clientHeight,\n        html.scrollHeight,\n        html.offsetHeight,\n    );\n\n    // Calculate the bottom of the viewport\n    docHeight = parseInt(docHeight - window.innerHeight, 10);\n    if (this._opts.offsetTop) {\n        docHeight -= this._opts.offsetTop;\n    }\n    if (this._opts.offsetBottom) {\n        docHeight += this._opts.offsetBottom;\n    }\n\n    const boundListener = handleScroll.bind(this, docHeight, this._opts.percentUp);\n\n    if (!this.invoked) {\n        this.attachEvents([{ el: window, type: 'scroll', listener: boundListener }]);\n    }\n}\n","/**\n * @param {FocusEvent} event\n * @returns {void}\n */\nfunction handleWindowBlur() {\n    this.windowBlurred = true;\n}\n\n/**\n * @param {FocusEvent} event\n * @returns {void}\n */\nfunction handleWindowFocus() {\n    if (this.windowBlurred && !this.invoked) {\n        this.fire();\n        this.windowBlurred = false;\n    }\n}\n\n/**\n * @returns {void}\n */\nexport default function windowFocus() {\n    const boundWindowBlur = handleWindowBlur.bind(this);\n    const boundWindowFocus = handleWindowFocus.bind(this);\n\n    // detect visibilitychange in browser\n    let hiddenVar = '';\n    let eventType = '';\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n    if ('hidden' in document) {\n        hiddenVar = 'hidden';\n        eventType = 'visibilitychange';\n    }\n\n    if ('mozHidden' in document) {\n        hiddenVar = 'mozHidden';\n        eventType = 'mozvisibilitychange';\n    }\n\n    if ('webkitHidden' in document) {\n        hiddenVar = 'webkitHidden';\n        eventType = 'webkitvisibilitychange';\n    }\n\n    if ('msHidden' in document) {\n        hiddenVar = 'msHidden';\n        eventType = 'msvisibilitychange';\n    }\n\n    if (hiddenVar && eventType && !isSafari) {\n        const handleVisibility = () => {\n            (document[hiddenVar] ? boundWindowBlur : boundWindowFocus)();\n        };\n        this.attachEvents([{ el: document, type: eventType, listener: handleVisibility }]);\n    } else {\n        this.attachEvents([\n            { el: window, type: 'blur', listener: boundWindowBlur },\n            { el: window, type: 'focus', listener: boundWindowFocus },\n        ]);\n    }\n}\n","/**\n * @param {MouseEvent} event\n * @returns {void}\n */\nfunction handleMouseLeave(event) {\n    if (!this.invoked && event.clientY < 0) {\n        this.fire();\n    }\n}\n\n/**\n * @returns {void}\n */\nexport default function windowOut() {\n    const boundMouseLeave = handleMouseLeave.bind(this);\n    this.attachEvents([{ el: document, type: 'mouseleave', listener: boundMouseLeave }]);\n}\n","/**\n * @returns {void}\n */\nexport default function target() {\n    if (!this._opts.target) {\n        console.error('ðŸ”¥ you have to provide a target selector within the options object to UserIntent().');\n        return;\n    }\n\n    const targetEl = document.querySelector(this._opts.target);\n    if (!targetEl) {\n        console.error(`ðŸ”¥ cannot find the provided target \"${this._opts.target}\".`);\n        return;\n    }\n\n    const observerOpts = { rootMargin: `${this._opts.offsetTop}px 0px ${this._opts.offsetBottom}px 0px` };\n    const observer = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n            if (entry.isIntersecting && !this.invoked) {\n                this.fire();\n                if (!this._opts.multiple) {\n                    observer.unobserve(entry.target);\n                }\n            }\n        });\n    }, observerOpts);\n\n    observer.observe(targetEl);\n}\n","import * as triggers from './triggers';\n\nconst schema = {\n    idle: {\n        fn: triggers.idle,\n        opts: {\n            events: ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'],\n            delay: 10000,\n            multiple: false,\n        },\n    },\n    scroll: {\n        fn: triggers.scroll,\n        opts: {\n            percentDown: 50,\n            percentUp: 0,\n            offsetTop: 0,\n            offsetBottom: 0,\n        },\n    },\n    target: {\n        fn: triggers.target,\n        opts: {\n            target: '',\n            offsetTop: 0,\n            offsetBottom: 0,\n            multiple: false,\n        },\n    },\n    focus: {\n        fn: triggers.windowFocus,\n        opts: {\n            multiple: false,\n        },\n    },\n    out: {\n        fn: triggers.windowOut,\n        opts: {\n            multiple: false,\n        },\n    },\n};\n\nexport default Object.freeze(schema);\n","/**\n * @param {Object[]} eventsArr\n * @returns {void}\n */\nexport default function eventsListenersCleanup(eventsArr = []) {\n    const eventsArrLen = eventsArr.length;\n\n    if (!eventsArrLen) return;\n\n    for (let i = 0; i < eventsArrLen; i += 1) {\n        const eventObj = eventsArr[i];\n        eventObj.el.removeEventListener(eventObj.type, eventObj.listener);\n    }\n}\n","/**\n * @param {Object[]} eventsArr\n * @returns {void}\n */\nexport default function eventsListenersAttach(eventsArr = []) {\n    const eventsArrLen = eventsArr.length;\n\n    if (!eventsArrLen) return;\n\n    for (let i = 0; i < eventsArrLen; i += 1) {\n        const { el, type, listener } = eventsArr[i];\n        el.addEventListener(type, listener);\n    }\n}\n","import schema from './schema';\nimport { eventsListenersAttach, eventsListenersCleanup } from './utils';\n\nexport default function UserIntent(cb, opts = {}) {\n    if (typeof opts !== 'object') {\n        console.error('ðŸ”¥ wrong options type passed to UserIntent().');\n        return;\n    }\n    if (typeof cb === 'undefined') {\n        console.error('ðŸ”¥ you have to pass a callback to UserIntent().');\n        return;\n    }\n    if (opts.mode && typeof schema[opts.mode] === 'undefined') {\n        console.error('ðŸ”¥ wrong mode passed to UserIntent().');\n        return;\n    }\n\n    const mode = opts.mode || 'out';\n\n    // Clone the passed options to delete the mode key from it\n    const optsClone = { ...opts };\n    delete optsClone.mode;\n\n    // Now we have all the other passed options, let's validate and fallback to default options\n    const defaultOpts = schema[mode].opts;\n    const defaultOptsKeys = Object.keys(defaultOpts);\n    const defaultOptsKeysLen = defaultOptsKeys.length;\n    if (defaultOptsKeysLen) {\n        for (let i = 0; i < defaultOptsKeysLen; i += 1) {\n            const optKey = defaultOptsKeys[i];\n            const optDefaultValue = defaultOpts[optKey];\n            if (typeof optsClone[optKey] === 'undefined') {\n                optsClone[optKey] = optDefaultValue;\n            }\n        }\n    }\n\n    this._mode = mode;\n    this._opts = optsClone;\n    this._cb = cb;\n    this.invoked = false;\n    this.timer = null;\n    this.windowBlurred = false;\n    this.addedEvents = [];\n\n    /**\n     * @param {Object[]} eventsArr\n     * @returns {void}\n     */\n    this.attachEvents = (eventsArr) => {\n        eventsListenersAttach(eventsArr);\n        this.addedEvents.push(...eventsArr);\n    };\n\n    /**\n     * @returns {void}\n     */\n    this.fire = () => {\n        cb(this._mode, { ...this._opts });\n        if (!this._opts.multiple) {\n            this.invoked = true;\n            eventsListenersCleanup(this.addedEvents);\n        }\n    };\n\n    schema[mode].fn.call(this);\n}\n"],"names":["triggers.idle","triggers.scroll","triggers.target","triggers.windowFocus","triggers.windowOut","schema"],"mappings":"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"}